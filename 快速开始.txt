╔════════════════════════════════════════════════════════════╗
║          政策咨询智能体 - 快速开始卡片                      ║
╚════════════════════════════════════════════════════════════╝

📋 3步快速启动
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

步骤1️⃣ 安装依赖
  > pip install -r requirements.txt

步骤2️⃣ 配置API密钥
  编辑 config.py，填写以下任一项：
  
  【推荐】百度千帆（有免费额度）
    QIANFAN_AK = "你的API_Key"
    QIANFAN_SK = "你的Secret_Key"
  
  获取地址：
  https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application

步骤3️⃣ 启动服务
  双击: 启动.bat
  或运行: python app.py

  然后打开: index.html

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔍 测试验证
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

运行系统测试:
  > python test_system.py

测试知识库:
  > python knowledge_base.py

测试智能体:
  > python agent.py

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 演示准备清单
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

□ 安装所有依赖包
□ 配置API密钥
□ 构建知识库 (python knowledge_base.py)
□ 测试几个问题，确保回答准确
□ 准备5-8个演示问题
□ 录制5分钟演示视频（参考：演示脚本.txt）
□ 撰写技术文档（参考：架构说明.txt）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📞 常见问题速查
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Q: 依赖安装失败？
A: 使用国内镜像
   > pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

Q: 向量模型下载慢？
A: 第一次运行会下载约100MB模型，需要耐心等待

Q: API调用失败？
A: 检查config.py中的密钥是否正确填写

Q: 回答不准确？
A: 调整config.py中的参数:
   - TOP_K = 5 (增加检索文档数)
   - CHUNK_SIZE = 800 (增大文档块)

Q: 端口被占用？
A: 修改app.py最后的port=8000改为其他端口

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎨 演示亮点
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ RAG架构 - 检索增强生成，降低幻觉
✅ 向量检索 - 语义理解，不依赖关键词
✅ 置信度评分 - 让用户了解答案可靠性
✅ 来源标注 - 所有答案可追溯
✅ 动态更新 - 支持政策文件快速更新
✅ API设计 - 支持多场景集成
✅ 7×24服务 - 无需人工干预

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 评分对照（学生组）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

功能完整性与准确性 (35%)
  ✓ 准确回答政策条款
  ✓ 完成查询、解读流程

交互体验与可演示性 (25%)
  ✓ 响应流畅，界面清晰
  ✓ 演示流程顺畅

技术实现与创新尝试 (25%)
  ✓ RAG技术应用
  ✓ 置信度评估创新

平台使用与答辩表现 (15%)
  ✓ 清晰阐述设计思路
  ✓ 突出技术亮点

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎬 5分钟演示结构
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

0:00-0:30  背景介绍 + 痛点说明
0:30-1:00  技术架构展示
1:00-4:00  功能演示（4-5个问题）
4:00-4:45  技术亮点总结
4:45-5:00  未来展望

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 加分技巧
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 演示时强调"基于真实政策文件"
2. 展示多种类型问题（基础、复杂、对比）
3. 突出置信度和来源标注功能
4. 提到政策动态更新能力
5. 说明7×24小时服务价值
6. 准备技术问题的答案（如：为什么选RAG）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 关键文件
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

config.py       - 配置API密钥（必改）
启动.bat        - 一键启动脚本
index.html      - Web演示界面
使用说明.txt    - 详细使用指南
演示脚本.txt    - 演示视频脚本
架构说明.txt    - 技术架构文档

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🚀 立即开始
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

后端（一次性准备）
1) 安装依赖：pip install -r requirements.txt
2) 初始化知识库（首次或新增政策后）：python knowledge_base.py
3) 启动后端：python app.py
- 健康检查：http://localhost:8000/health
- API文档：http://localhost:8000/docs

前端（intelli-policy）
开发模式：
- 打开命令提示符（或在 PowerShell 执行 Set-ExecutionPolicy -Scope Process Bypass）
- cd intelli-policy
- npm install
- PowerShell设置接口地址：$env:VITE_API_BASE_URL="http://localhost:8000"
- npm run dev（浏览器访问提示的地址，通常 http://localhost:5173）

生产模式（后端同时提供前端页面）：
- cd intelli-policy
- $env:VITE_API_BASE_URL="http://localhost:8000"; npm run build
- 重启后端：python app.py
- 访问 http://localhost:8000

新增政策PDF接入：
- 将 .pdf/.docx 放到 config.DOCS_DIR 指定目录（默认 .，可改为 ./docs）
- 重建知识库：前端“重建知识库”按钮，或 POST /rebuild_kb，或 python knowledge_base.py

常用接口：
- POST /query（单问题）
- POST /batch_query（批量咨询）
- GET /policies?q=关键词（政策文件库）
- GET /metrics（系统指标）
- POST /clear_history（清空历史）

模型配置（Qwen）：
- 在 config.py 设置：
  USE_OPENAI_COMPATIBLE = True
  OPENAI_BASE_URL = "https://dashscope.aliyuncs.com/compatible-mode/v1"
  OPENAI_MODEL = "qwen-plus"（或你有权限的规格）
  OPENAI_API_KEY = "你的密钥"
- 若网络受限，可改用千帆：USE_QIANFAN = True 并填写 AK/SK

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
